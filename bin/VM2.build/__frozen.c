// This provides the frozen (compiled bytecode) files that are included if
// any.
#include <Python.h>

#include "nuitka/constants_blob.h"

// Blob from which modules are unstreamed.
#define stream_data constant_bin

// These modules should be loaded as bytecode. They may e.g. have to be loadable
// during "Py_Initialize" already, or for irrelevance, they are only included
// in this un-optimized form. These are not compiled by Nuitka, and therefore
// are not accelerated at all, merely bundled with the binary or module, so
// that CPython library can start out finding them.

struct frozen_desc {
    char const *name;
    ssize_t start;
    int size;
};

void copyFrozenModulesTo(struct _frozen *destination) {
    struct frozen_desc frozen_modules[] = {
        {"_collections_abc", 72551, 28908},
        {"_compression", 107233, 4090},
        {"_weakrefset", 256914, 7428},
        {"abc", 264342, 6417},
        {"base64", 700374, 16954},
        {"bz2", 756377, 11147},
        {"codecs", 863931, 33864},
        {"collections", 904051, -46576},
        {"collections.abc", 72551, 28908},
        {"copyreg", 1082644, 4210},
        {"dis", 1467169, 15171},
        {"encodings", 2222910, -3913},
        {"encodings.aliases", 2226823, 6262},
        {"encodings.ascii", 2233085, 1850},
        {"encodings.base64_codec", 2234935, 2389},
        {"encodings.big5", 2237324, 1410},
        {"encodings.big5hkscs", 2238734, 1420},
        {"encodings.bz2_codec", 2240154, 3251},
        {"encodings.charmap", 2243405, 2903},
        {"encodings.cp037", 2246308, 2395},
        {"encodings.cp1006", 2248703, 2471},
        {"encodings.cp1026", 2251174, 2399},
        {"encodings.cp1125", 2253573, 8092},
        {"encodings.cp1140", 2261665, 2385},
        {"encodings.cp1250", 2264050, 2422},
        {"encodings.cp1251", 2266472, 2419},
        {"encodings.cp1252", 2268891, 2422},
        {"encodings.cp1253", 2271313, 2435},
        {"encodings.cp1254", 2273748, 2424},
        {"encodings.cp1255", 2276172, 2443},
        {"encodings.cp1256", 2278615, 2421},
        {"encodings.cp1257", 2281036, 2429},
        {"encodings.cp1258", 2283465, 2427},
        {"encodings.cp273", 2285892, 2381},
        {"encodings.cp424", 2288273, 2425},
        {"encodings.cp437", 2290698, 7809},
        {"encodings.cp500", 2298507, 2395},
        {"encodings.cp720", 2300902, 2492},
        {"encodings.cp737", 2303394, 8131},
        {"encodings.cp775", 2311525, 7839},
        {"encodings.cp850", 2319364, 7470},
        {"encodings.cp852", 2326834, 7847},
        {"encodings.cp855", 2334681, 8100},
        {"encodings.cp856", 2342781, 2457},
        {"encodings.cp857", 2345238, 7452},
        {"encodings.cp858", 2352690, 7440},
        {"encodings.cp860", 2360130, 7788},
        {"encodings.cp861", 2367918, 7803},
        {"encodings.cp862", 2375721, 7992},
        {"encodings.cp863", 2383713, 7803},
        {"encodings.cp864", 2391516, 7949},
        {"encodings.cp865", 2399465, 7803},
        {"encodings.cp866", 2407268, 8136},
        {"encodings.cp869", 2415404, 7829},
        {"encodings.cp874", 2423233, 2523},
        {"encodings.cp875", 2425756, 2392},
        {"encodings.cp932", 2428148, 1412},
        {"encodings.cp949", 2429560, 1412},
        {"encodings.cp950", 2430972, 1412},
        {"encodings.euc_jis_2004", 2432384, 1426},
        {"encodings.euc_jisx0213", 2433810, 1426},
        {"encodings.euc_jp", 2435236, 1414},
        {"encodings.euc_kr", 2436650, 1414},
        {"encodings.gb18030", 2438064, 1416},
        {"encodings.gb2312", 2439480, 1414},
        {"encodings.gbk", 2440894, 1408},
        {"encodings.hex_codec", 2442302, 2376},
        {"encodings.hp_roman8", 2444678, 2596},
        {"encodings.hz", 2447274, 1406},
        {"encodings.idna", 2448680, 5690},
        {"encodings.iso2022_jp", 2454370, 1427},
        {"encodings.iso2022_jp_1", 2455797, 1431},
        {"encodings.iso2022_jp_2", 2457228, 1431},
        {"encodings.iso2022_jp_2004", 2458659, 1437},
        {"encodings.iso2022_jp_3", 2460096, 1431},
        {"encodings.iso2022_jp_ext", 2461527, 1435},
        {"encodings.iso2022_kr", 2462962, 1427},
        {"encodings.iso8859_1", 2464389, 2394},
        {"encodings.iso8859_10", 2466783, 2399},
        {"encodings.iso8859_11", 2469182, 2493},
        {"encodings.iso8859_13", 2471675, 2402},
        {"encodings.iso8859_14", 2474077, 2420},
        {"encodings.iso8859_15", 2476497, 2399},
        {"encodings.iso8859_16", 2478896, 2401},
        {"encodings.iso8859_2", 2481297, 2394},
        {"encodings.iso8859_3", 2483691, 2401},
        {"encodings.iso8859_4", 2486092, 2394},
        {"encodings.iso8859_5", 2488486, 2395},
        {"encodings.iso8859_6", 2490881, 2439},
        {"encodings.iso8859_7", 2493320, 2402},
        {"encodings.iso8859_8", 2495722, 2433},
        {"encodings.iso8859_9", 2498155, 2394},
        {"encodings.johab", 2500549, 1412},
        {"encodings.koi8_r", 2501961, 2446},
        {"encodings.koi8_t", 2504407, 2357},
        {"encodings.koi8_u", 2506764, 2432},
        {"encodings.kz1048", 2509196, 2409},
        {"encodings.latin_1", 2511605, 1862},
        {"encodings.mac_arabic", 2513467, 7703},
        {"encodings.mac_centeuro", 2521170, 2433},
        {"encodings.mac_croatian", 2523603, 2441},
        {"encodings.mac_cyrillic", 2526044, 2431},
        {"encodings.mac_farsi", 2528475, 2375},
        {"encodings.mac_greek", 2530850, 2415},
        {"encodings.mac_iceland", 2533265, 2434},
        {"encodings.mac_latin2", 2535699, 2575},
        {"encodings.mac_roman", 2538274, 2432},
        {"encodings.mac_romanian", 2540706, 2442},
        {"encodings.mac_turkish", 2543148, 2435},
        {"encodings.palmos", 2545583, 2422},
        {"encodings.ptcp154", 2548005, 2516},
        {"encodings.punycode", 2550521, 6383},
        {"encodings.quopri_codec", 2556904, 2409},
        {"encodings.raw_unicode_escape", 2559313, 1735},
        {"encodings.rot_13", 2561048, 2995},
        {"encodings.shift_jis", 2564043, 1420},
        {"encodings.shift_jis_2004", 2565463, 1430},
        {"encodings.shift_jisx0213", 2566893, 1430},
        {"encodings.tis_620", 2568323, 2484},
        {"encodings.undefined", 2570807, 2129},
        {"encodings.unicode_escape", 2572936, 1715},
        {"encodings.unicode_internal", 2574651, 1725},
        {"encodings.utf_16", 2576376, 4799},
        {"encodings.utf_16_be", 2581175, 1600},
        {"encodings.utf_16_le", 2582775, 1600},
        {"encodings.utf_32", 2584375, 4692},
        {"encodings.utf_32_be", 2589067, 1493},
        {"encodings.utf_32_le", 2590560, 1493},
        {"encodings.utf_7", 2592053, 1521},
        {"encodings.utf_8", 2593574, 1580},
        {"encodings.utf_8_sig", 2595154, 4482},
        {"encodings.uu_codec", 2599636, 3191},
        {"encodings.zlib_codec", 2602827, 3089},
        {"enum", 2605916, 24237},
        {"functools", 2718839, 23921},
        {"genericpath", 2742760, 3714},
        {"heapq", 2798983, 14328},
        {"importlib", 3081676, -3698},
        {"importlib._bootstrap", 3085374, 29144},
        {"importlib._bootstrap_external", 3114518, 41784},
        {"importlib.machinery", 3169755, 938},
        {"inspect", 3188320, 79998},
        {"io", 3268318, 3375},
        {"keyword", 3371424, 1775},
        {"linecache", 3607732, 3755},
        {"locale", 3611487, 34506},
        {"opcode", 4148075, 5344},
        {"operator", 1341, 13866},
        {"os", 15207, 29659},
        {"posixpath", 4489152, 10396},
        {"quopri", 5080540, 5737},
        {"re", 5105651, 13770},
        {"reprlib", 5119421, 5316},
        {"sre_compile", 5333256, 15169},
        {"sre_constants", 5348425, 6257},
        {"sre_parse", 5354682, 21323},
        {"stat", 5415742, 3839},
        {"stringprep", 5445512, 9998},
        {"struct", 5455510, 300},
        {"threading", 5667003, 37668},
        {"token", 6087316, 3565},
        {"tokenize", 6090881, 17797},
        {"traceback", 6127791, 19589},
        {"types", 58296, 8942},
        {"warnings", 6669050, 13906},
        {NULL, 0, 0}
    };

    struct frozen_desc *current = frozen_modules;

    for(;;) {
        destination->name = (char *)current->name;
        destination->code = (unsigned char *)&constant_bin[ current->start ];
        destination->size = current->size;

        if (destination->name == NULL) break;

        current += 1;
        destination += 1;
    };
}
